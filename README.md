# Debian-pkg

This is a Sublime Text build file I use for creating packages for a
private repository.  These are all built as native packages, so it may 
not include everything that a full-blown Debian developer would like,
but it suits my purposes.

The build assumes that the base name of the .sublime-project file is the
same name as the primary generated package files.  E.g. a project whose
.sublime-project file is sitebackup.sublime-project is expected to 
produce package files starting with sitebackup 
(e.g. sitebackup_1.0.10_all.deb), sitebackup_1.0.10.amd64.buildinfo,
sitebackup_1.0.10.amd64.changes, sitebackup_1.0.10.dsc, and
sitebackup_1.0.10.tar.xz, to use a recent example).  This primarily 
applies to the "Run Lintian" and "Delete Package files" variants.

It's also assumed that dupload is installed and set up to default to
the private repository used, and that lintian and debhelper is 
installed.

Projects that are debian package projects are identified by having a
debian/changelog file in the root of the project.

Doing a build (press Ctrl-B) runs 'dpkg-buildpackage'.  The package is
built in the parent directory of the project.

The following variants are provided (press Ctrl-Shift-B to bring them
up):

* New changelog entry
This runs 'dch' to create a new entry in the changelog file.  The entry
will show up with the text 'new' as the content, ready to be edited.

* Build package
This runs 'dpkg-buildpackage' to build the package.  The package is
built in the parent directory of the project.

* Run Lintian
This runs 'lintian' on the generated package .changes file.

* Upload Package
This runs 'dupload' in the directory the package is built in.

* Clean package files
This runs 'dh_clean' to clean the in-project files generated by 
dpkg-buildpackage.

* Delete package files
This removes the generated package files from the parent directory of
the project.  To be specific, it removes files matching 
'${project_base_name}_*'.  If your project produces multiple packages,
some may be missed.
